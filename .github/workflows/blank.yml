name: CI

on:
  schedule:
    - cron: "*/30 * * * *"
  push:
    branches: [ "main" ]
  pull_request:
    branches: [ "main" ]

jobs:
  example_matrix:
    strategy:
      matrix:
        partition: [1, 2, 3, 4]
        
    runs-on: [self-hosted, cirrus, "ghcr.io/cirruslabs/macos-ventura-xcode:latest"]

    steps:
      - name: Run a one-line script
        run: echo Hello, world!
      
      - name: sleep 120
        run: sleep 120
      
      - name: sleep random
        run: sleep $((RANDOM % 120))

